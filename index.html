<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<script src="https://unpkg.com/json5@^2.0.0/dist/index.min.js"></script>
<style>
  textarea.form-control {
    width: 100%;
    height: 200px;
  }

  .container {
    width: 1000px;
    height: 100%;
    margin: 50px auto;
  }

  .btns {
    margin: 20px 0;
  }

  .btn {
    margin-right: 20px;
  }

  samp {
    display: block;
    overflow: hidden;
    white-space: pre-wrap;
  }
</style>
<div class="container">
  <label for="text">Enter cURL <a href="https://ec.haxx.se/usingcurl/usingcurl-copyas#from-chrome">copied</a> from chrome here</label>
  <textarea class="form-control" name="text" id="text"></textarea>
  <div class="btns">
    <button id="btn" class="btn btn-primary">Get cURL</button>
    <button id="btn-copy" class="btn btn-secondary">Copy</button>
  </div>
  <samp id="samp"></samp>
</div>
<script>
  const ta = document.getElementById('text')
  const btn = document.getElementById('btn')
  const btnCopy = document.getElementById('btn-copy')
  const samp = document.getElementById('samp')

  btnCopy.style.display = 'none'
  btn.addEventListener('click', convertcURL)
  btnCopy.addEventListener('click', copy)

  function convertcURL () {
    const request = ta.value
    const params = decode(request)
    btnCopy.style.display = 'inline-block'
    samp.innerHTML = params
  }

  function decode (str) {
    try {
      const requestData = str.split('--data-binary')[1].split('--compressed')[0]
      const firstQuoteIndex = requestData.indexOf('\'')
      const lastQuoteIndex = requestData.lastIndexOf('\'')

      const escapedQuoteRg = /\\(")/ig
      const param = requestData.substring(firstQuoteIndex + 1, lastQuoteIndex).replace(escapedQuoteRg, '$1')

      const beautifulJson = JSON.stringify(JSON5.parse(param), null, 2)
      return beautifulJson
    } catch (e) {
      console.error(e)
      return 'Invalid curl'
    }
  }

  function copy () {
    const str = samp.innerHTML
    const el = document.createElement('textarea')
    el.value = str
    document.body.appendChild(el)
    el.select()
    document.execCommand('copy')
    document.body.removeChild(el)
  }
</script>